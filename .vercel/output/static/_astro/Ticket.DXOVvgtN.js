import{j as e,t as r}from"./ticketStore.C29jF43W.js";import{u as p}from"./index.8CaI-_u4.js";import{r as a}from"./index.CtEReY-d.js";function k(){const n=p(r),[i,o]=a.useState(90),[m,d]=a.useState(0),[c,x]=a.useState(900);a.useEffect(()=>{const t=l/900*100;if(t>=100){d(100),o(0),x(0);return}else d(t),o(90),x(900-l)},[n]);const h=(t,s)=>{if(s<=0){r.setKey(t,void 0);return}const y=r.get()[t];r.setKey(t,{...y,quantity:s})},l=Object.values(n).reduce((t,s)=>t+s.price*s.quantity,0),u=t=>{const s=r.get()[t];r.setKey(t,{...s,quantity:s.quantity+1})},g=t=>{if(n[t].quantity-1<=0){r.setKey(t,void 0);return}const s=r.get()[t];r.setKey(t,{...s,quantity:s.quantity-1})};return e.jsxs("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:[e.jsx("div",{className:"mx-auto max-w-screen-2xl px-4 py-1 sm:px-6 sm:py-12 lg:px-2",children:e.jsx("div",{className:"mx-auto max-w-3xl",children:e.jsxs("div",{className:"mt-8",children:[e.jsx("ul",{className:"space-y-4",children:Object.values(n).map(t=>e.jsxs("li",{className:"flex items-center gap-4",children:[e.jsx("img",{src:t.thumbnail,alt:"",className:"h-16 w-16 rounded object-cover"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm text-gray-900 dark:text-white",children:t.name}),e.jsxs("dl",{className:"mt-0.5 space-y-px text-[10px] text-gray-600 dark:text-gray-100",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"inline",children:"Unidad:"}),e.jsx("dd",{className:"inline",children:t.unit})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"inline",children:"$"}),e.jsx("dd",{className:"inline",children:t.price.toFixed(2)})]})]})]}),e.jsxs("div",{className:"flex flex-1 items-center justify-end gap-2 dark:text-white",children:[e.jsxs("div",{className:"flex items-center justify-end",children:[e.jsx("label",{htmlFor:"Line1Qty",className:"sr-only",children:" Quantity "}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("button",{type:"button",onClick:()=>g(t.id),className:"py-1 px-4 me-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"-"})}),e.jsx("input",{type:"number",min:"1",value:t.unit==="KG"?t.quantity.toFixed(2):t.quantity,id:"Line1Qty",onChange:s=>h(t.id,parseFloat(s.target.value)),className:"h-8 w-8 rounded border-gray-200 bg-gray-50 p-0 mr-2 text-center text-xs text-gray-600 [-moz-appearance:_textfield] focus:outline-none [&::-webkit-inner-spin-button]:m-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:m-0 [&::-webkit-outer-spin-button]:appearance-none"}),e.jsx("div",{className:"hidden sm:block",children:e.jsx("button",{type:"button",onClick:()=>u(t.id),className:"py-1 px-4 me-2 text-sm font-medium text-gray-900 focus:outline-none bg-white rounded-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:text-white dark:hover:bg-gray-700",children:"+"})})]}),e.jsxs("button",{className:"text-gray-600 transition hover:text-red-600",onClick:()=>r.setKey(t.id,void 0),children:[e.jsx("span",{className:"sr-only",children:"Remove item"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"h-4 w-4 text-gray-900 dark:text-white",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})})]})]})]},t.name))}),e.jsxs("div",{className:"w-full bg-gray-200 my-6 rounded-full h-2.5 dark:bg-gray-700",children:[e.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:`${m}%`}}),e.jsx("div",{children:c>0?e.jsx("p",{className:"text-gray-700 text-xs my-2 dark:text-gray-100",children:"$"+c.toFixed(2)+" para envío gratis"}):e.jsxs("div",{className:"flex items-center justify-center text-green-500 my-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-circle-check-filled",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z",strokeWidth:"0",fill:"currentColor"})]}),e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-truck-delivery",width:"24",height:"24",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),e.jsx("path",{d:"M7 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),e.jsx("path",{d:"M17 17m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),e.jsx("path",{d:"M5 17h-2v-4m-1 -8h11v12m-4 0h6m4 0h2v-6h-8m0 -5h5l3 5"}),e.jsx("path",{d:"M3 9l4 0"})]})]})})]}),e.jsx("div",{className:"mt-12 flex justify-end border-t border-gray-100 pt-8",children:e.jsx("div",{className:"w-screen max-w-lg space-y-4",children:e.jsxs("dl",{className:"space-y-0.5 text-sm text-gray-700",children:[e.jsxs("div",{className:"flex justify-between text-gray-800 dark:text-white",children:[e.jsx("dt",{children:"Envío:"}),e.jsx("dd",{children:i===0?"Gratis":i.toFixed(2)})]}),e.jsxs("div",{className:"flex justify-between !text-base font-medium text-gray-800 dark:text-white",children:[e.jsx("dt",{children:"Total"}),e.jsxs("dd",{children:["$",(l+i).toFixed(2)]})]})]})})})]})})}),e.jsx("div",{className:"flex justify-center mb-8",children:e.jsx("a",{href:"/compra",className:"text-white bg-blue-700 hover:bg-blue-800 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium rounded-full text-sm px-5 py-2.5 text-center me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Ir a envío de ticket"})})]})}export{k as default};
