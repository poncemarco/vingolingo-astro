<div class="text-gray-900 flex-row justify-center cursor-pointer hover:bg-gray-600 focus:ring-4 focus:outline-none focus:ring-[#1da1f2]/50 font-medium rounded-lg px-5 py-2.5 text-center inline-flex items-center dark:focus:ring-[#1da1f2]/55 mr-2 mb-2 hover:shadow-lg transition-all duration-200 ease-in-out hover:scale-110 hover:text-white scale-90 gap-x-2 opacity-90 hover:opacity-100 dark:dark:text-gray-100 relative">
    <input 
        type="search" 
        id="search" 
        class="p-4 ps-10 text-sm text-gray-600 border border-gray-300 rounded-lg bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" 
        placeholder="Busca por producto, categoria o marca" 
        aria-label="Search"
        required
    >
    <div id="resultsContainer" class="absolute top-12 left-0 z-10 w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg max-h-96 overflow-y-auto hidden"> <!-- Agregado hidden aquÃ­ -->
        <p id="searchReadout" class="dark:text-white my-2 px-4"></p>
        <ul id="searchResults" class="dark:bg-gray-800 dark:text-white">
        </ul>
    </div>
</div>

<script>
    import { initializeSearch } from '@/components/utils/searchLogic';

    document.addEventListener('astro:page-load', () => {
        const searchInput = document.getElementById('search') as HTMLInputElement;
        const searchReadout = document.getElementById('searchReadout') as HTMLParagraphElement;
        const resultsList = document.getElementById('searchResults') as HTMLUListElement;
        const resultsContainer = document.getElementById('resultsContainer') as HTMLDivElement;
        
        if (searchInput && searchReadout && resultsList && resultsContainer) {
            initializeSearch(searchInput, searchReadout, resultsList, resultsContainer);
        }
    });
</script>
